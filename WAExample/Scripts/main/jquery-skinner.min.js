!function(l){l.extend(l.expr[":"],{scrollable:function(o){var r,s;return"scroll"==l(o).css("overflow")||"scroll"==l(o).css("overflowX")||"scroll"==l(o).css("overflowY")?!0:(r=o.clientHeight<o.scrollHeight&&(-1!=l.inArray(l(o).css("overflowY"),["scroll","auto"])||-1!=l.inArray(l(o).css("overflow"),["scroll","auto"])))?!0:s=o.clientWidth<o.scrollWidth&&(-1!=l.inArray(l(o).css("overflowX"),["scroll","auto"])||-1!=l.inArray(l(o).css("overflow"),["scroll","auto"]))}})}(jQuery);
!function(e){e.fn.skinner=function(t){var l={type:"block",minWidth:"",width:"auto",textwrap:!1,maxitem:"6",itemMinWidth:"",mode:"select",placeHolder:"please select",valueNullable:!1,disabled:!1,dropdownList:{hideMode:"auto"}};void 0!==t&&e.extend(l,t);var i=this;l.disabled=e(i).prop("disabled");var s={$:{select:null,container:null,controller:null,acceptor:null}};return s=e.extend(s,{_li_click:function(t,n){var c=this,d=s.$.acceptor;d.hide(),e(i).triggerHandler("whenClickItem",[t,c,n]);var o=s.$.controller.children(".select-skinned-cont").html(),r="",a=s.$.select,h=a.find("option"),p=h.eq(t),u=h.eq(0);o="&nbsp;"===o?"":o,"multiple"!==l.multiple&&(o!==p.text()?(h.removeAttr("selected"),p.attr("selected","selected"),r=p.text(),s.$.controller.html('<div class="select-skinned-cont" title="'+r+'">'+r+"</div>"),c.addClass("select-skinned-li-selected"),d.nextAll("select:first").change()):!0===l.valueNullable?(p.removeAttr("selected"),u.attr("selected","selected"),r=u.html()||l.placeHolder||"&nbsp;",s.$.controller.html('<div class="select-skinned-cont" title="'+r+'">'+r+"</div>"),c.removeClass("select-skinned-li-selected"),d.nextAll("select:first").change()):d.nextAll("select:first").trigger("unchange"))},_init_li:function(t){var n=e(t),c=s.$.acceptor;c.html(""),n.children("option").each(function(t,d){var o=e(d),r=""===o.html()?"&nbsp;":o.html();if(0===t){if(!0===l.valueNullable)return;0===n.children("option[selected]").size()&&o.attr("selected","selected")}var a=e("<li>"+r+"</li>").click(function(){return e(i).triggerHandler("beforeClickItem",[t,a,n])}).click(function(l){!1===l.result||(s._li_click.call(a,t,n),e(i).triggerHandler("afterClickItem",[t,a,n]))});!0===o.prop("selected")&&a.addClass("select-skinned-li-selected"),c.append(a)})},_apply_max_item:function(){var t=e(this),i=t.children("li"),s=l.maxitem;if(void 0!==s&&!1!==s){for(var n=0,c=s;c-->0;)n+=i.eq(c).outerHeight();s=l.maxitem,t.css({"overflow-y":"scroll",height:n+"px"})}}}),s=e.extend(s,{selectskinned:function(t){var i=e(t);s.$.select=i,i.wrap('<div class="select-skinned" />'),s.$.container=i.parent();var n=e('<ul style="display:none;"></ul>');s.$.acceptor=n,i.parent().on("mouseleave",function(){("auto"===l.dropdownList.hideMode||"leave"===l.dropdownList.hideMode)&&n.hide()}),!0===l.valueNullable?0===i.children("option[selected]").size()&&i.children("option").eq(0).attr("selected","selected"):0===i.children("option[selected]").size()&&i.children("option").eq(0).attr("selected","selected");var c=i.children("option[selected]"),d=c.size()<=0?l.placeHolder:""===c.text()?"&nbsp;":c.text(),o=e('<div class="select-skinned-text"><div class="select-skinned-cont" title="'+d+'">'+d+"</div></div>");s.$.controller=o,o.click(function(){var t=e(this),i=t.nextAll("ul:first"),n=s.$.container.offset(),c=s.$.container.parent(":scrollable"),d=0,o=0;0===c.size()?c=e(window):(d=c.offset().top,o=c.offset().left);var r=c.scrollTop();i.css(i.outerHeight()+15<n.top-r&&c.height()+d<=n.top+i.outerHeight()+15-r?{top:"auto",bottom:"0"}:{top:t.prev(".select-skinned-text").children(".select-skinned-cont").height(),bottom:"auto"}),i.css(c.width()+o<=n.left+i.outerWidth()?{left:"auto",right:"0"}:{left:"0",right:"auto"}),i.is(":visible")?i.hide():(l.disabled=e(this).siblings("select:first").prop("disabled"),!0===l.disabled?i.hide():i.show()),s._apply_max_item.call(i.get(0))}),i.before(o),i.before(n),i.change(function(){s._init_li(t),s.addStyle()}),i.hide(),s._init_li(t),s.addStyle()},resetSelect:function(t){if(0!==e(t).prev("ul").size()){var l=e(t).find("option").eq(0).text();e(t).prev("ul").prev(".select-skinned-text").html('<div class="select-skinned-cont" title="'+l+'">'+l+"</div>")}},addStyle:function(){var t=e(i),n=s.$.container,c=n.children("ul").children("li");if("auto"===l.width&&(l.width=t.width()),n.css("min-width",l.minWidth||l.width).width(l.width).children("ul").css("min-width",l.itemMinWidth||l.width),n.css({height:s.$.controller.height()}),!0===l.textwrap&&c.css({"white-space":"normal"}),c.hover(function(){e(this).addClass("hover")},function(){e(this).removeClass("hover")}),s.$.controller.hover(function(){l.disabled=e(this).siblings("select:first").prop("disabled")},function(){}),"puretext"===l.mode.toLowerCase()){var d="select-skinned-pure-text";s.$.controller.addClass(d).hover(function(){l.disabled=e(this).siblings("select:first").prop("disabled"),!1===l.disabled&&e(this).removeClass(d)},function(){!1===l.disabled&&e(this).addClass(d)})}"block"!==l.type&&n.css({"float":l.type})}}),e(i).parent().is(".select-skinned")||s.selectskinned(i),this}}(jQuery);
